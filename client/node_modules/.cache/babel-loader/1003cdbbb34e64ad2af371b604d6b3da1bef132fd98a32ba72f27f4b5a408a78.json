{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{useSelector,useDispatch}from'react-redux';import Axios from'axios';import{addProduct,clearProducts}from'../productos/productsSlice';import{logoutUser}from'../login_registro/UserSlice';import Modal from'react-modal';import*as XLSX from'xlsx';import{saveAs}from'file-saver';import'bootstrap/dist/css/bootstrap.min.css';import'./ventas.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Ventas=()=>{const inputRef=useRef(null);const cedulaRef=useRef(null);const idsProducto=useSelector(state=>state.products.productIds);const productos=useSelector(state=>state.products.products);const usuario=useSelector(state=>state.login_registro.usuario);const idUsuario=usuario?usuario.idUsuario:'';const dispatch=useDispatch();const loaded=useRef(false);const[contadores,setContadores]=useState({});const[total,setTotal]=useState(0);const[subtotales,setSubtotales]=useState({});const[modalIsOpen,setModalIsOpen]=useState(false);const[facturasModalIsOpen,setFacturasModalIsOpen]=useState(false);const[clienteBuscado,setClienteBuscado]=useState(null);const[mensajeCliente,setMensajeCliente]=useState('');const[nombreUsuario,setNombreUsuario]=useState('');const[resumenVentas,setResumenVentas]=useState([]);const[totalProductos,setTotalProductos]=useState(0);const[facturas,setFacturas]=useState([]);const[filtros,setFiltros]=useState({idFactura:'',fechaDesde:'',fechaHasta:'',cliente:'',usuario:''});const fetchUsuario=async id=>{try{const response=await Axios.get(\"http://localhost:3001/auth/usuario\");if(response.data&&response.data.body&&response.data.body.length>0){setNombreUsuario(response.data.body[0].nombre);}}catch(error){console.error('Error al obtener el nombre del usuario:',error);}};useEffect(()=>{if(usuario){fetchUsuario(usuario);}},[usuario]);useEffect(()=>{const fetchProducts=async()=>{if(!loaded.current){dispatch(clearProducts());for(const id of idsProducto){try{const response=await Axios.get(\"http://localhost:3001/productos/idProducto/\".concat(id));if(response.data&&Array.isArray(response.data.body)){dispatch(addProduct(response.data.body[0]));}}catch(error){console.error('Error al obtener productos:',error);}}loaded.current=true;}};if(idsProducto.length>0&&!loaded.current){fetchProducts();}},[idsProducto,dispatch]);useEffect(()=>{const newCounters={};productos.forEach(producto=>{newCounters[producto.idProducto]=contadores[producto.idProducto]!==undefined?contadores[producto.idProducto]:1;});setContadores(newCounters);},[productos]);useEffect(()=>{const calculateTotals=()=>{let newTotal=0;let newSubtotales={};let newTotalProductos=0;productos.forEach(producto=>{var _contadores$producto$;const cantidad=(_contadores$producto$=contadores[producto.idProducto])!==null&&_contadores$producto$!==void 0?_contadores$producto$:0;const subtotal=producto.precio*cantidad;newSubtotales[producto.idProducto]=subtotal;newTotal+=subtotal;newTotalProductos+=cantidad;});setTotal(newTotal);setSubtotales(newSubtotales);setTotalProductos(newTotalProductos);};calculateTotals();},[contadores,productos]);const incrementar=idProducto=>{setContadores(prev=>{var _prev$idProducto;return{...prev,[idProducto]:((_prev$idProducto=prev[idProducto])!==null&&_prev$idProducto!==void 0?_prev$idProducto:0)+1};});};const decrementar=idProducto=>{if(contadores[idProducto]>0){setContadores(prev=>({...prev,[idProducto]:prev[idProducto]-1}));}};const openModal=()=>{if(!clienteBuscado){alert('Debe buscar y seleccionar un cliente antes de generar la factura.');return;}const resumen=productos.map(producto=>({nombre:producto.nombre,cantidad:contadores[producto.idProducto],precio:producto.precio,subtotal:subtotales[producto.idProducto]}));setResumenVentas(resumen);setModalIsOpen(true);};const closeModal=()=>{setClienteBuscado(null);setMensajeCliente('');cedulaRef.current.value='';setModalIsOpen(false);};const handleBuscarCliente=async()=>{const valorBuscado=cedulaRef.current.value;try{const response=await Axios.get(\"http://localhost:3001/clientes/cedula/\".concat(valorBuscado));if(response.data.body.length>0){setClienteBuscado(response.data.body[0]);setMensajeCliente(\"Cliente encontrado: \".concat(response.data.body[0].nombre));}else{setMensajeCliente('El cliente no existe');}}catch(error){console.error('Error al obtener clientes:',error);setMensajeCliente('Error al buscar el cliente');}};const handleGenerarFactura=async()=>{if(!clienteBuscado){alert('Debe buscar y seleccionar un cliente antes de generar la factura.');return;}const factura={montoTotal:total,cantidadTotal:totalProductos,idCliente:clienteBuscado===null||clienteBuscado===void 0?void 0:clienteBuscado.idCliente,idUsuario:idUsuario,productos:productos.map(producto=>({idProducto:producto.idProducto,cantidad:contadores[producto.idProducto],nombre:producto.nombre,precio:producto.precio}))};try{const response=await Axios.post('http://localhost:3001/ventas',factura);if(response.data&&response.data.status===201){alert('Factura generada con éxito');closeModal();fetchFacturas();// Actualizar la lista de facturas después de generar una nueva\n}else{alert('Error al generar la factura');}}catch(error){console.error('Error al generar la factura:',error);alert('Error al generar la factura');}};const fetchFacturas=async()=>{try{const response=await Axios.get('http://localhost:3001/ventas');if(response.data&&Array.isArray(response.data.body)){const facturasConNombres=await Promise.all(response.data.body.map(async factura=>{var _clienteResponse$data,_usuarioResponse$data;// Obtener el nombre del cliente usando el idCliente\nconst clienteResponse=await Axios.get(\"http://localhost:3001/clientes/id/\".concat(factura.idCliente));const nombreCliente=((_clienteResponse$data=clienteResponse.data.body[0])===null||_clienteResponse$data===void 0?void 0:_clienteResponse$data.nombre)||'Cliente no encontrado';// Obtener el nombre del usuario usando el idUsuario\nconst usuarioResponse=await Axios.get(\"http://localhost:3001/usuarios/\".concat(factura.idUsuario));const nombreUsuario=((_usuarioResponse$data=usuarioResponse.data.body)===null||_usuarioResponse$data===void 0?void 0:_usuarioResponse$data.nombre)||'Usuario no encontrado';return{...factura,nombreCliente,nombreUsuario};}));setFacturas(facturasConNombres);}else{setFacturas([]);}}catch(error){console.error('Error al obtener facturas:',error);}};const applyFilters=facturas=>{return facturas.filter(factura=>{const matchId=filtros.idFactura===''||factura.idVenta.toString().includes(filtros.idFactura);const matchFecha=(filtros.fechaDesde===''||factura.fechaVenta>=filtros.fechaDesde)&&(filtros.fechaHasta===''||factura.fechaVenta<=filtros.fechaHasta);const matchCliente=filtros.cliente===''||factura.nombreCliente.toLowerCase().includes(filtros.cliente.toLowerCase());const matchUsuario=filtros.usuario===''||factura.nombreUsuario.toLowerCase().includes(filtros.usuario.toLowerCase());return matchId&&matchFecha&&matchCliente&&matchUsuario;});};const openFacturasModal=()=>{fetchFacturas();setFacturasModalIsOpen(true);};const closeFacturasModal=()=>{setFacturasModalIsOpen(false);};const handleEliminarFactura=async idFactura=>{try{const response=await Axios.delete(\"http://localhost:3001/ventas/\".concat(idFactura));if(response.data&&response.data.status===200){alert('Factura eliminada con éxito');fetchFacturas();// Actualizar la lista de facturas después de eliminar una\n}else{alert('Error al eliminar la factura');}}catch(error){console.error('Error al eliminar la factura:',error);alert('Error al eliminar la factura');}};const limpiarFiltros=()=>{setFiltros({idFactura:'',fechaDesde:'',fechaHasta:'',cliente:'',usuario:''});};const generateExcel=()=>{const data=applyFilters(facturas).length>0?applyFilters(facturas):facturas;const worksheet=XLSX.utils.json_to_sheet(data.map(factura=>({\"ID Factura\":factura.idVenta,\"Fecha\":factura.fechaVenta,\"Monto Total\":factura.montoTotal,\"Cantidad Total\":factura.cantidadTotal,\"Cliente\":factura.nombreCliente,\"Usuario\":factura.nombreUsuario,\"Productos\":factura.productos.map(producto=>\"\".concat(producto.nombre,\": \").concat(producto.cantidad,\" x \").concat(producto.precio)).join(\", \")})));const workbook=XLSX.utils.book_new();XLSX.utils.book_append_sheet(workbook,worksheet,\"Facturas\");const excelBuffer=XLSX.write(workbook,{bookType:'xlsx',type:'array'});const dataBlob=new Blob([excelBuffer],{type:'application/octet-stream'});saveAs(dataBlob,'Facturas.xlsx');};return/*#__PURE__*/_jsxs(\"div\",{className:\"parent-container\",style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",style:{display:'flex',flex:'1'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"product-list\",style:{flex:'1'},children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:productos.map(producto=>/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'flex-start',flex:'0 1 auto'},children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:3001/uploads/\".concat(producto.imagenProducto),alt:\"Descripci\\xF3n de la \".concat(producto.imagenProducto),className:\"img-fluid\",style:{maxHeight:'100px',marginRight:'1rem'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 auto'},children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:producto.nombre}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Precio: \",producto.precio]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Stock: \",producto.stock]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>decrementar(producto.idProducto),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:contadores[producto.idProducto]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>incrementar(producto.idProducto),children:\"+\"})]})]})})},producto.idProducto))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"side-card-container\",style:{flex:'2',padding:'50px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Resumen de Ventas\"}),productos.map(producto=>/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[producto.nombre,\": \",contadores[producto.idProducto],\" x \",producto.precio,\" = \",subtotales[producto.idProducto]]},producto.idProducto)),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Total de Productos: \",totalProductos]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Total: \",total]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:cedulaRef,placeholder:\"Ingrese c\\xE9dula del cliente\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBuscarCliente,children:\"Buscar Cliente\"}),/*#__PURE__*/_jsx(\"p\",{children:mensajeCliente})]})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:openModal,children:\"Generar Factura\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:openFacturasModal,children:\"Facturas\"})]})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:modalIsOpen,onRequestClose:closeModal,contentLabel:\"Factura Modal\",ariaHideApp:false,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",style:{padding:'10px',backgroundColor:'#f5f5f5',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Factura\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Usuario: \",usuario?usuario.usuario:'']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Nombre Cliente: \",clienteBuscado===null||clienteBuscado===void 0?void 0:clienteBuscado.nombre]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Total de Productos: \",totalProductos]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Resumen de Ventas\"}),resumenVentas.map((item,index)=>/*#__PURE__*/_jsxs(\"p\",{children:[item.nombre,\": \",item.cantidad,\" x \",item.precio,\" = \",item.subtotal]},index)),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",resumenVentas.reduce((acc,item)=>acc+item.subtotal,0)]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,children:\"Cerrar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerarFactura,children:\"Generar Factura\"})]}),/*#__PURE__*/_jsxs(Modal,{isOpen:facturasModalIsOpen,onRequestClose:closeFacturasModal,contentLabel:\"Facturas Modal\",ariaHideApp:false,children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Lista de Facturas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"factura-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filtros-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"ID Factura\",value:filtros.idFactura,onChange:e=>setFiltros({...filtros,idFactura:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",placeholder:\"Fecha Desde\",value:filtros.fechaDesde,onChange:e=>setFiltros({...filtros,fechaDesde:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",placeholder:\"Fecha Hasta\",value:filtros.fechaHasta,onChange:e=>setFiltros({...filtros,fechaHasta:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Cliente\",value:filtros.cliente,onChange:e=>setFiltros({...filtros,cliente:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Usuario\",value:filtros.usuario,onChange:e=>setFiltros({...filtros,usuario:e.target.value})}),/*#__PURE__*/_jsx(\"button\",{onClick:limpiarFiltros,className:\"btn btn-secondary\",children:\"Limpiar Filtros\"})]}),applyFilters(facturas).map(factura=>/*#__PURE__*/_jsxs(\"div\",{className:\"factura-item\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID Factura:\"}),\" \",factura.idVenta]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha:\"}),\" \",factura.fechaVenta]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Monto Total:\"}),\" \",factura.montoTotal]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cantidad Total:\"}),\" \",factura.cantidadTotal]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cliente:\"}),\" \",factura.nombreCliente]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Usuario:\"}),\" \",factura.nombreUsuario]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Productos\"}),factura.productos.map((producto,index)=>/*#__PURE__*/_jsxs(\"p\",{children:[producto.nombre,\": \",producto.cantidad,\" x \",producto.precio]},index)),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>handleEliminarFactura(factura.idVenta),children:\"Eliminar\"})]},factura.idVenta))]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:generateExcel,children:\"Exportar a Excel\"}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:closeFacturasModal,children:\"Cerrar\"})]})]});};export default Ventas;","map":{"version":3,"names":["React","useEffect","useRef","useState","useSelector","useDispatch","Axios","addProduct","clearProducts","logoutUser","Modal","XLSX","saveAs","jsx","_jsx","jsxs","_jsxs","Ventas","inputRef","cedulaRef","idsProducto","state","products","productIds","productos","usuario","login_registro","idUsuario","dispatch","loaded","contadores","setContadores","total","setTotal","subtotales","setSubtotales","modalIsOpen","setModalIsOpen","facturasModalIsOpen","setFacturasModalIsOpen","clienteBuscado","setClienteBuscado","mensajeCliente","setMensajeCliente","nombreUsuario","setNombreUsuario","resumenVentas","setResumenVentas","totalProductos","setTotalProductos","facturas","setFacturas","filtros","setFiltros","idFactura","fechaDesde","fechaHasta","cliente","fetchUsuario","id","response","get","data","body","length","nombre","error","console","fetchProducts","current","concat","Array","isArray","newCounters","forEach","producto","idProducto","undefined","calculateTotals","newTotal","newSubtotales","newTotalProductos","_contadores$producto$","cantidad","subtotal","precio","incrementar","prev","_prev$idProducto","decrementar","openModal","alert","resumen","map","closeModal","value","handleBuscarCliente","valorBuscado","handleGenerarFactura","factura","montoTotal","cantidadTotal","idCliente","post","status","fetchFacturas","facturasConNombres","Promise","all","_clienteResponse$data","_usuarioResponse$data","clienteResponse","nombreCliente","usuarioResponse","applyFilters","filter","matchId","idVenta","toString","includes","matchFecha","fechaVenta","matchCliente","toLowerCase","matchUsuario","openFacturasModal","closeFacturasModal","handleEliminarFactura","delete","limpiarFiltros","generateExcel","worksheet","utils","json_to_sheet","join","workbook","book_new","book_append_sheet","excelBuffer","write","bookType","type","dataBlob","Blob","className","style","display","flexDirection","children","flex","alignItems","justifyContent","src","imagenProducto","alt","maxHeight","marginRight","stock","onClick","padding","ref","placeholder","isOpen","onRequestClose","contentLabel","ariaHideApp","backgroundColor","marginBottom","item","index","reduce","acc","onChange","e","target"],"sources":["C:/Users/AUXTIC/Documents/Sellertatpro/Sellertatpro/client/src/ventas/ventas.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Axios from 'axios';\nimport { addProduct, clearProducts } from '../productos/productsSlice';\nimport { logoutUser } from '../login_registro/UserSlice';\nimport Modal from 'react-modal';\nimport * as XLSX from 'xlsx';\nimport { saveAs } from 'file-saver';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './ventas.css';\n\nconst Ventas = () => {\n  const inputRef = useRef(null);\n  const cedulaRef = useRef(null);\n  const idsProducto = useSelector(state => state.products.productIds);\n  const productos = useSelector(state => state.products.products);\n  const usuario = useSelector(state => state.login_registro.usuario);\n  const idUsuario = usuario ? usuario.idUsuario : '';\n\n  const dispatch = useDispatch();\n  const loaded = useRef(false);\n  const [contadores, setContadores] = useState({});\n  const [total, setTotal] = useState(0);\n  const [subtotales, setSubtotales] = useState({});\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [facturasModalIsOpen, setFacturasModalIsOpen] = useState(false);\n  const [clienteBuscado, setClienteBuscado] = useState(null);\n  const [mensajeCliente, setMensajeCliente] = useState('');\n  const [nombreUsuario, setNombreUsuario] = useState('');\n  const [resumenVentas, setResumenVentas] = useState([]);\n  const [totalProductos, setTotalProductos] = useState(0);\n  const [facturas, setFacturas] = useState([]);\n  const [filtros, setFiltros] = useState({ idFactura: '', fechaDesde: '', fechaHasta: '', cliente: '', usuario: '' });\n\n  const fetchUsuario = async (id) => {\n    try {\n      const response = await Axios.get(`http://localhost:3001/auth/usuario`);\n      if (response.data && response.data.body && response.data.body.length > 0) {\n        setNombreUsuario(response.data.body[0].nombre);\n      }\n    } catch (error) {\n      console.error('Error al obtener el nombre del usuario:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (usuario) {\n      fetchUsuario(usuario);\n    }\n  }, [usuario]);\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      if (!loaded.current) {\n        dispatch(clearProducts());\n        for (const id of idsProducto) {\n          try {\n            const response = await Axios.get(`http://localhost:3001/productos/idProducto/${id}`);\n            if (response.data && Array.isArray(response.data.body)) {\n              dispatch(addProduct(response.data.body[0]));\n            }\n          } catch (error) {\n            console.error('Error al obtener productos:', error);\n          }\n        }\n        loaded.current = true;\n      }\n    };\n\n    if (idsProducto.length > 0 && !loaded.current) {\n      fetchProducts();\n    }\n  }, [idsProducto, dispatch]);\n\n  useEffect(() => {\n    const newCounters = {};\n    productos.forEach(producto => {\n      newCounters[producto.idProducto] = (contadores[producto.idProducto] !== undefined) ? contadores[producto.idProducto] : 1;\n    });\n    setContadores(newCounters);\n  }, [productos]);\n\n  useEffect(() => {\n    const calculateTotals = () => {\n      let newTotal = 0;\n      let newSubtotales = {};\n      let newTotalProductos = 0;\n      productos.forEach(producto => {\n        const cantidad = contadores[producto.idProducto] ?? 0;\n        const subtotal = producto.precio * cantidad;\n        newSubtotales[producto.idProducto] = subtotal;\n        newTotal += subtotal;\n        newTotalProductos += cantidad;\n      });\n      setTotal(newTotal);\n      setSubtotales(newSubtotales);\n      setTotalProductos(newTotalProductos);\n    };\n\n    calculateTotals();\n  }, [contadores, productos]);\n\n  const incrementar = (idProducto) => {\n    setContadores(prev => ({ ...prev, [idProducto]: (prev[idProducto] ?? 0) + 1 }));\n  };\n\n  const decrementar = (idProducto) => {\n    if (contadores[idProducto] > 0) {\n      setContadores(prev => ({ ...prev, [idProducto]: prev[idProducto] - 1 }));\n    }\n  };\n\n  const openModal = () => {\n    if (!clienteBuscado) {\n      alert('Debe buscar y seleccionar un cliente antes de generar la factura.');\n      return;\n    }\n    const resumen = productos.map(producto => ({\n      nombre: producto.nombre,\n      cantidad: contadores[producto.idProducto],\n      precio: producto.precio,\n      subtotal: subtotales[producto.idProducto]\n    }));\n    setResumenVentas(resumen);\n    setModalIsOpen(true);\n  };\n\n  const closeModal = () => {\n    setClienteBuscado(null);\n    setMensajeCliente('');\n    cedulaRef.current.value = '';\n    setModalIsOpen(false);\n  };\n\n  const handleBuscarCliente = async () => {\n    const valorBuscado = cedulaRef.current.value;\n    try {\n      const response = await Axios.get(`http://localhost:3001/clientes/cedula/${valorBuscado}`);\n      if (response.data.body.length > 0) {\n        setClienteBuscado(response.data.body[0]);\n        setMensajeCliente(`Cliente encontrado: ${response.data.body[0].nombre}`);\n      } else {\n        setMensajeCliente('El cliente no existe');\n      }\n    } catch (error) {\n      console.error('Error al obtener clientes:', error);\n      setMensajeCliente('Error al buscar el cliente');\n    }\n  };\n\n  const handleGenerarFactura = async () => {\n    if (!clienteBuscado) {\n      alert('Debe buscar y seleccionar un cliente antes de generar la factura.');\n      return;\n    }\n\n    const factura = {\n      montoTotal: total,\n      cantidadTotal: totalProductos,\n      idCliente: clienteBuscado?.idCliente,\n      idUsuario: idUsuario,\n      productos: productos.map(producto => ({\n        idProducto: producto.idProducto,\n        cantidad: contadores[producto.idProducto],\n        nombre: producto.nombre,\n        precio: producto.precio\n      }))\n    };\n\n    try {\n      const response = await Axios.post('http://localhost:3001/ventas', factura);\n      if (response.data && response.data.status === 201) {\n        alert('Factura generada con éxito');\n        closeModal();\n        fetchFacturas(); // Actualizar la lista de facturas después de generar una nueva\n      } else {\n        alert('Error al generar la factura');\n      }\n    } catch (error) {\n      console.error('Error al generar la factura:', error);\n      alert('Error al generar la factura');\n    }\n  };\n\n  const fetchFacturas = async () => {\n    try {\n        const response = await Axios.get('http://localhost:3001/ventas');\n        if (response.data && Array.isArray(response.data.body)) {\n            const facturasConNombres = await Promise.all(response.data.body.map(async factura => {\n                // Obtener el nombre del cliente usando el idCliente\n                const clienteResponse = await Axios.get(`http://localhost:3001/clientes/id/${factura.idCliente}`);\n                const nombreCliente = clienteResponse.data.body[0]?.nombre || 'Cliente no encontrado';\n\n                // Obtener el nombre del usuario usando el idUsuario\n                const usuarioResponse = await Axios.get(`http://localhost:3001/usuarios/${factura.idUsuario}`);\n                const nombreUsuario = usuarioResponse.data.body?.nombre || 'Usuario no encontrado';\n\n                return {\n                    ...factura,\n                    nombreCliente,\n                    nombreUsuario\n                };\n            }));\n            setFacturas(facturasConNombres);\n        } else {\n            setFacturas([]);\n        }\n    } catch (error) {\n        console.error('Error al obtener facturas:', error);\n    }\n  };\n\n  const applyFilters = (facturas) => {\n    return facturas.filter(factura => {\n      const matchId = filtros.idFactura === '' || factura.idVenta.toString().includes(filtros.idFactura);\n      const matchFecha = (filtros.fechaDesde === '' || factura.fechaVenta >= filtros.fechaDesde) &&\n                        (filtros.fechaHasta === '' || factura.fechaVenta <= filtros.fechaHasta);\n      const matchCliente = filtros.cliente === '' || factura.nombreCliente.toLowerCase().includes(filtros.cliente.toLowerCase());\n      const matchUsuario = filtros.usuario === '' || factura.nombreUsuario.toLowerCase().includes(filtros.usuario.toLowerCase());\n      return matchId && matchFecha && matchCliente && matchUsuario;\n    });\n  };\n\n  const openFacturasModal = () => {\n    fetchFacturas();\n    setFacturasModalIsOpen(true);\n  };\n\n  const closeFacturasModal = () => {\n    setFacturasModalIsOpen(false);\n  };\n\n  const handleEliminarFactura = async (idFactura) => {\n    try {\n      const response = await Axios.delete(`http://localhost:3001/ventas/${idFactura}`);\n      if (response.data && response.data.status === 200) {\n        alert('Factura eliminada con éxito');\n        fetchFacturas(); // Actualizar la lista de facturas después de eliminar una\n      } else {\n        alert('Error al eliminar la factura');\n      }\n    } catch (error) {\n      console.error('Error al eliminar la factura:', error);\n      alert('Error al eliminar la factura');\n    }\n  };\n\n  const limpiarFiltros = () => {\n    setFiltros({ idFactura: '', fechaDesde: '', fechaHasta: '', cliente: '', usuario: '' });\n  };\n\n  const generateExcel = () => {\n    const data = applyFilters(facturas).length > 0 ? applyFilters(facturas) : facturas;\n\n    const worksheet = XLSX.utils.json_to_sheet(data.map(factura => ({\n      \"ID Factura\": factura.idVenta,\n      \"Fecha\": factura.fechaVenta,\n      \"Monto Total\": factura.montoTotal,\n      \"Cantidad Total\": factura.cantidadTotal,\n      \"Cliente\": factura.nombreCliente,\n      \"Usuario\": factura.nombreUsuario,\n      \"Productos\": factura.productos.map(producto => \n        `${producto.nombre}: ${producto.cantidad} x ${producto.precio}`).join(\", \")\n    })));\n\n    const workbook = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(workbook, worksheet, \"Facturas\");\n\n    const excelBuffer = XLSX.write(workbook, { bookType: 'xlsx', type: 'array' });\n    const dataBlob = new Blob([excelBuffer], { type: 'application/octet-stream' });\n\n    saveAs(dataBlob, 'Facturas.xlsx');\n  };\n\n  return (\n    <div className=\"parent-container\" style={{ display: 'flex', flexDirection: 'column' }}>\n      <div className=\"main-content\" style={{ display: 'flex', flex: '1' }}>\n        <div className=\"product-list\" style={{ flex: '1' }}>\n          <div className=\"row\">\n            {productos.map(producto => (\n              <div key={producto.idProducto} className=\"col-12\">\n                <div className=\"card\">\n                  <div className=\"card-body d-flex justify-content-between align-items-center\">\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-start', flex: '0 1 auto' }}>\n                      <img\n                        src={`http://localhost:3001/uploads/${producto.imagenProducto}`}\n                        alt={`Descripción de la ${producto.imagenProducto}`}\n                        className=\"img-fluid\"\n                        style={{ maxHeight: '100px', marginRight: '1rem' }}\n                      />\n                    </div>\n                    <div style={{ flex: '1 1 auto' }}>\n                      <h5 className=\"card-title\">{producto.nombre}</h5>\n                      <p className=\"card-text\">Precio: {producto.precio}</p>\n                      <p className=\"card-text\">Stock: {producto.stock}</p>\n                    </div>\n                    <div className=\"counter d-flex align-items-center\">\n                      <button onClick={() => decrementar(producto.idProducto)}>-</button>\n                      <span className=\"mx-2\">{contadores[producto.idProducto]}</span>\n                      <button onClick={() => incrementar(producto.idProducto)}>+</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"side-card-container\" style={{ flex: '2', padding: '50px'}}>\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">Resumen de Ventas</h5>\n              {productos.map(producto => (\n                <p key={producto.idProducto} className=\"card-text\">{producto.nombre}: {contadores[producto.idProducto]} x {producto.precio} = {subtotales[producto.idProducto]}</p>\n              ))}\n              <p className=\"card-text\">Total de Productos: {totalProductos}</p>\n              <p className=\"card-text\">Total: {total}</p>\n\n              <div>\n                <input type=\"text\" ref={cedulaRef} placeholder=\"Ingrese cédula del cliente\" />\n                <button onClick={handleBuscarCliente}>Buscar Cliente</button>\n                <p>{mensajeCliente}</p>\n              </div>\n            </div>\n          </div>\n\n          <button className=\"btn btn-success\" onClick={openModal}>Generar Factura</button>\n          <button className=\"btn btn-success\" onClick={openFacturasModal}>Facturas</button>\n        </div>  \n      </div>\n      <Modal\n        isOpen={modalIsOpen}\n        onRequestClose={closeModal}\n        contentLabel=\"Factura Modal\"\n        ariaHideApp={false}\n      >\n        <div className=\"user-info\" style={{ padding: '10px', backgroundColor: '#f5f5f5', marginBottom: '10px' }}>\n          <h4>Factura</h4>\n          <p>Usuario: {usuario ? usuario.usuario : ''}</p>\n          <p>Nombre Cliente: {clienteBuscado?.nombre}</p>\n          <p className=\"card-text\">Total de Productos: {totalProductos}</p>\n          <div>\n            <h5>Resumen de Ventas</h5>\n            {resumenVentas.map((item, index) => (\n              <p key={index}>{item.nombre}: {item.cantidad} x {item.precio} = {item.subtotal}</p>\n            ))}\n            <p>Total: {resumenVentas.reduce((acc, item) => acc + item.subtotal, 0)}</p>\n          </div>\n        </div>\n        <button onClick={closeModal}>Cerrar</button>\n        <button onClick={handleGenerarFactura}>Generar Factura</button>\n      </Modal>\n\n      <Modal\n        isOpen={facturasModalIsOpen}\n        onRequestClose={closeFacturasModal}\n        contentLabel=\"Facturas Modal\"\n        ariaHideApp={false}\n      >\n        <h4>Lista de Facturas</h4>\n        <div className=\"factura-list\">\n            {/* Campos de filtros */}\n            <div className=\"filtros-container\">\n                <input\n                    type=\"text\"\n                    placeholder=\"ID Factura\"\n                    value={filtros.idFactura}\n                    onChange={(e) => setFiltros({ ...filtros, idFactura: e.target.value })}\n                />\n                <input\n                    type=\"date\"\n                    placeholder=\"Fecha Desde\"\n                    value={filtros.fechaDesde}\n                    onChange={(e) => setFiltros({ ...filtros, fechaDesde: e.target.value })}\n                />\n                <input\n                    type=\"date\"\n                    placeholder=\"Fecha Hasta\"\n                    value={filtros.fechaHasta}\n                    onChange={(e) => setFiltros({ ...filtros, fechaHasta: e.target.value })}\n                />\n\n                <input\n                    type=\"text\"\n                    placeholder=\"Cliente\"\n                    value={filtros.cliente}\n                    onChange={(e) => setFiltros({ ...filtros, cliente: e.target.value })}\n                />\n                <input\n                    type=\"text\"\n                    placeholder=\"Usuario\"\n                    value={filtros.usuario}\n                    onChange={(e) => setFiltros({ ...filtros, usuario: e.target.value })}\n                />\n                <button onClick={limpiarFiltros} className=\"btn btn-secondary\">Limpiar Filtros</button>\n            </div>\n\n            {/* Listado de facturas filtradas */}\n            {applyFilters(facturas).map(factura => (\n                <div className=\"factura-item\" key={factura.idVenta}>\n                    <p><strong>ID Factura:</strong> {factura.idVenta}</p>\n                    <p><strong>Fecha:</strong> {factura.fechaVenta}</p>\n                    <p><strong>Monto Total:</strong> {factura.montoTotal}</p>\n                    <p><strong>Cantidad Total:</strong> {factura.cantidadTotal}</p>\n                    <p><strong>Cliente:</strong> {factura.nombreCliente}</p>\n                    <p><strong>Usuario:</strong> {factura.nombreUsuario}</p>\n                    <h5>Productos</h5>\n                    {factura.productos.map((producto, index) => (\n                        <p key={index}>{producto.nombre}: {producto.cantidad} x {producto.precio}</p>\n                    ))}\n                    <button className=\"btn btn-danger\" onClick={() => handleEliminarFactura(factura.idVenta)}>Eliminar</button>\n                </div>\n            ))}\n        </div>\n        <button className=\"btn btn-info\" onClick={generateExcel}>Exportar a Excel</button> {/* Botón dentro del Modal */}\n        <button onClick={closeFacturasModal}>Cerrar</button>\n      </Modal>\n    </div>\n  );\n}\n\nexport default Ventas;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}